

# 家庭日程助手  
**Product Requirement Document（AI-friendly）**

> 本文档用于：  
> 1. 为 AI 辅助开发（UI / 基础代码）提供稳定上下文  
> 2. 记录产品与系统的核心边界，而非实现细节  
> 3. 作为个人 demo 项目的长期演进文档  

---

## 0. 文档约定（给 AI & 维护者）

### 0.1 稳定性标记

- ✅ **Stable**：已确定，不应被 AI 随意推断或修改
- 🟡 **Draft**：当前假设，可能在开发中调整
- ❌ **Out of Scope**：明确不做（至少当前版本）

### 0.2 文档职责边界

**本 PRD 负责：**
- 定义产品目标
- 定义核心概念（实体）
- 定义不变量与约束
- 定义系统边界

**本 PRD 不负责：**
- 具体数据库字段类型
- 代码结构与实现
- 具体第三方服务配置

---

## 1. 产品概述（Product Overview）

### 1.1 一句话描述 ✅

一个面向家庭/小群组的 **共享日程与任务展示系统**，  
支持多端管理，并可将群组任务 **推送展示到独立硬件屏幕**。

### 1.2 核心价值 ✅

- 群组成员 **统一查看与管理任务**
- 将“数字任务”变成 **环境中可见的信息**
- 作为一个真实、完整的全栈 + IoT demo 项目

---

## 2. 使用场景（User Scenarios）

### 2.1 家庭场景 ✅
- 家庭成员创建、完成日常任务
- 客厅屏幕实时展示当天待办事项

### 2.2 小群组场景 ✅
- 室友 / 小团队共享日程
- 屏幕作为公共信息展示板

---

## 3. 核心概念（Core Concepts / Entities）

> 本章节用于 **统一术语**，避免 AI 与开发者理解偏差

### 3.1 User ✅
- 系统的使用者
- 可以加入多个群组
- 可以创建和管理任务

### 3.2 Group ✅
- 一个共享任务的集合
- 包含多个用户
- **最多绑定一个展示设备**

### 3.3 Task ✅
- 属于某个群组
- 表示一个待办事项或日程
- 有状态（如：未完成 / 已完成）

### 3.4 Device（展示设备）✅
- 独立的硬件实体（如 ESP32 + 显示屏）
- **只能绑定一个群组**
- 仅用于展示群组任务
- 不直接参与任务编辑

---

## 4. 系统边界与不变量（Invariants）

### 4.1 群组与设备 ✅

- ✅ 一个设备只能绑定一个群组
- ✅ 一个群组最多绑定一个设备
- ✅ 设备不参与用户身份体系

### 4.2 任务 ✅

- ✅ 任务必须属于某个群组
- ✅ 任务的创建者始终是用户（非设备）

### 4.3 安全原则（最低限度） ✅

- ✅ 所有通信必须加密
- ✅ 设备必须有唯一身份
- ✅ 设备的访问权限可以被撤销

---

## 5. 功能范围（Functional Scope）

### 5.1 用户与群组 ✅
- 创建 / 加入群组
- 查看群组成员

### 5.2 任务管理 ✅
- 创建任务
- 更新任务状态
- 查看任务列表

### 5.3 设备管理 ✅
- 添加设备
- 将设备绑定到群组
- 查看设备状态（在线 / 离线）

---

## 6. 技术边界（Technical Boundaries）

> 本章节描述 **技术选择的方向，而非实现细节**

### 6.1 客户端 ✅
- Web（React）
- Mobile（React Native）

### 6.2 后端 ✅
- HTTP API
- 部署在 Cloudflare 环境

### 6.3 数据存储 ✅
- 使用托管数据库（Neon）

### 6.4 设备通信 ✅
- 设备通过 **支持推送的协议** 与系统通信
- 协议需支持加密与身份验证

---

## 7. AI 使用方式（AI Vibe Coding Context）

### 7.1 AI 在项目中的角色 ✅

- 根据 PRD 生成 **静态 UI**
- 在开发者主导下，辅助生成交互逻辑
- 不作为最终决策者

### 7.2 对 AI 的约束 ✅

- AI 不应假设未定义的字段或关系
- AI 应以本 PRD 中的 **稳定定义** 为准

---

## 8. 明确不做的内容（Anti-Features）

- ❌ 复杂权限系统
- ❌ 任务子任务无限嵌套
- ❌ 设备固件 OTA 管理
- ❌ 企业级审计日志

---

## 9. 未来扩展方向（非当前设计）

> 以下内容仅用于 **预留空间，不代表已设计**

- 🟡 AI Agent 辅助创建任务
- 🟡 语音输入
- 🟡 更复杂的任务分析与统计

---

## 10. 文档维护说明 ✅

- 本文档会随 **产品边界或核心约束变化** 更新
- 不随具体实现细节更新
- 技术实现细节应记录在独立文档中

---

